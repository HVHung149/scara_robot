z0 =[0 0 1]';
z1=[0 0 1]';
z2= [0 0 1]';
z3=[ 0 0 1]';
syms a1 c1 s1 a2 c12 s12 a3 s123 c123
p0=[0 0 0]';
p1=[a1*c1 a1*s1 0]';
p2=[(a1*c1+a2*c12) (a1*s1+a2*s12) 0]';
p3=[(a1*c1+a2*c12+a3*c123) (a1*s1+ a2*s12+a3*s123) 0];
z0xp3=[ -z0(3)*p3(2)+z0(2)*p3(3) -z0(3)*p3(1)-z0(1)*p3(3) -z0(2)*p3(1)+z0(1)*p3(2)];
z0xp0=[ -z0(3)*p0(2)+z0(2)*p0(3) -z0(3)*p0(1)-z0(1)*p0(3) -z0(2)*p0(1)+z0(1)*p0(2)];

x =z0xp3-z0xp0

z1xp3=[ -z1(3)*p3(2)+z1(2)*p3(3) -z1(3)*p3(1)-z1(1)*p3(3) -z1(2)*p3(1)+z1(1)*p3(2)];
z1xp1=[ -z1(3)*p1(2)+z1(2)*p1(3) -z1(3)*p1(1)-z1(1)*p1(3) -z1(2)*p1(1)+z1(1)*p1(2)];

y =z1xp3-z1xp1

z2xp3=[ -z2(3)*p3(2)+z2(2)*p3(3) -z2(3)*p3(1)-z2(1)*p3(3) -z2(2)*p3(1)+z2(1)*p3(2)];
z2xp2=[ -z2(3)*p2(2)+z2(2)*p2(3) -z2(3)*p2(1)-z2(1)*p2(3) -z2(2)*p2(1)+z2(1)*p2(2)];

z= z2xp3-z2xp2